<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>总结对博弈问题的学习和若干模型及解法 | shallwe|code</title>
  <meta name="author" content="shallwe">
  
  <meta name="description" content="OI-blog">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="总结对博弈问题的学习和若干模型及解法"/>
  <meta property="og:site_name" content="shallwe|code"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="shallwe|code" type="application/atom+xml">
  
  
    <link href="/favicon.ico" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/bootstrap.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML'></script>
  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-97384825-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?26e751f78e8841e981f7e01910d5fbf6";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">shallwe|code</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/friend" title="All the friends.">
			  <i class="fa fa-link"></i>Friends
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header page-header-inverse ">		
			<h1 class="title title-inverse "> 总结对博弈问题的学习和若干模型及解法</h1>
		</div>		
	






<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <blockquote>
<p>利用一个星期的时间学习了博弈问题的基础知识， 做了最简单的若干习题， 在这里总结一下；</p>
</blockquote>
<a id="more"></a>
<ul>
<li><a href="#1">基础知识</a>
<ul>
<li>平等博弈</li>
<li>sg函数<br>
</li>
<li>游戏的和</li>
</ul></li>
<li><a href="#2">经典模型</a>
<ul>
<li>石子类</li>
<li>非石子</li>
</ul></li>
<li><a href="#3">常用方法及习题</a></li>
</ul>
<hr>
<p><span id="1"> </span></p>
<h1 id="基础知识">基础知识</h1>
<hr>

<h2 id="平等博弈">平等博弈</h2>
<p>与不平等博弈对立， 先后手面对不同局面， 可以做相同的决策， 是比较常见的类型， 我学习的是和平等博弈有关的内容；<br>
重要的性质： 必败局面的后继局面一定是必胜局面， 必胜局面的后继局面一定存在必败局面；</p>
<hr>

<h2 id="sg函数">sg函数</h2>
<p><span class="math display">\[sg[S]=mex \\{ sg[T] | T \in next(S) \\}\]</span></p>
<span class="math inline">\(sg[S] = 0\)</span>, <span class="math inline">\(S\)</span>为必胜局面，<span class="math inline">\(sg[S] \neq 0\)</span>, <span class="math inline">\(S\)</span>为必负局面；
<hr>

<h2 id="游戏的和">游戏的和</h2>
<p>当一个游戏<span class="math inline">\(S\)</span>可以拆成若干个子游戏<span class="math inline">\(G_i, (i \in [1, n])\)</span>， 且不存在子游戏间的干扰， 那么该游戏可以认为是这若干个子游戏的和， <span class="math inline">\(sg[S] = sg[G_1] \ xor \  sg[G_2] \  xor \  ... \ xor \ sg[G_n]\)</span>;</p>
<hr>

<hr>
<p><span id="2"> </span></p>
<h1 id="经典模型">经典模型</h1>
<hr>

<h2 id="石子类">石子类</h2>
<ol style="list-style-type: decimal">
<li>Nim Game
<ul>
<li>n堆石子,双方轮流从任意一堆石子中取出至少一个,不能取的人输.</li>
<li>对于一堆x个石子, <span class="math inline">\(sg(x)=x\)</span>.</li>
<li>利用游戏的和， 所以所有石子个数的异或和为0是必败态,否则为必胜态.</li>
</ul></li>
<li>Bash Game
<ul>
<li>每人最多一次只能取m个石子,其他规则同Nim Game.</li>
<li><span class="math inline">\(sg(x)=x \space mod \space (m+1)\)</span>.</li>
</ul></li>
<li>Nim_K Game
<ul>
<li>一次可以从最多K堆石子中取出任意多个,其他规则同Nim Game.</li>
<li>在二进制下各位上各堆石子的数字之和均为(K+1)的倍数的话则为必败态,否则为必胜态.</li>
<li>推广: 一个由n个子游戏组成的游戏,每次可以在最多K个子游戏中进行操作.</li>
<li>然后只要把结论中各堆石子的个数改为各个子游戏的SG值即可.</li>
</ul></li>
<li>Anti-Nim Game(Misère Nim)
<ul>
<li>不能取的一方获胜,其他规则同Nim Game.</li>
<li>关于所谓的”Anti-SG游戏”及”SJ定理”贾志鹏的论文上有详细说明,不过似乎遇到并不多.</li>
<li>结论是一个状态是必胜态当且仅当满足以下条件之一:
<ol style="list-style-type: decimal">
<li>SG值不为0且至少有一堆石子数大于1;</li>
<li>SG值为0且不存在石子数大于1的石子堆.</li>
</ol></li>
</ul></li>
<li>Staircase Nim
<ul>
<li>每人一次可以从第一堆石子中取走若干个,或者从其他石子堆的一堆中取出若干个放到左边一堆里(没有石子的石子堆不会消失),其他规则同Nim Game.</li>
<li>当且仅当奇数编号堆的石子数异或和为0时为必败态.</li>
<li>将石子从奇数推向偶数可以理解为拿走石子， 偶数推向奇数后手可以接着推回偶数， 理解为没有进行操作；</li>
</ul></li>
<li>Wythoff Game
<ul>
<li>有两堆石子,双方轮流从某一堆取走若干石子或者从两堆中取走相同数目的石子,不能取的人输.</li>
<li>对任意自然数k,都存在唯一的一个必败态使得两堆石子数差为k,设其为<span class="math inline">\(P_k=(a_k,b_k)\)</span>,表示石子数分别为<span class="math inline">\(a_k,b_k(ak⩽bk)\)</span>.</li>
<li>那么<span class="math inline">\(a_k\)</span>为在<span class="math inline">\(P_{k0}(k0&lt;k)\)</span>中未出现过的最小自然数,<span class="math inline">\(b_k=a_k+k\)</span>.</li>
<li>结论：<span class="math inline">\(a_k = \lfloor \frac{ \sqrt{5} + 1}{2} * k \rfloor\)</span>.</li>
</ul></li>
</ol>
<hr>

<h2 id="非石子类">非石子类</h2>
<ol style="list-style-type: decimal">
<li><p>翻硬币游戏</p>
<p>n枚硬币排成一排，有的正面朝上，有的反面朝上。</p>
<p>游戏者根据某些约束翻硬币（如：每次只能翻一或两枚，或者每次只能翻连续的几枚），但他所翻动的硬币中，最右边的必须是从正面翻到反面。</p>
<p>谁不能翻谁输。</p>
<p>把游戏转化为其他的取石子游戏之类的,然后用如下定理解决:</p>
<p>局面的 SG 值等于局面中每个正面朝上的棋子单一存在时的 SG 值的异或和。</p></li>
<li><p>树上删边游戏</p>
<p>给出一个有n个结点的树，有一个点作为树的根节点,双方轮流从树中删去一条边边，之后不与根节点相连的部分将被移走,无法操作者输.</p>
<p>结论: 叶子结点的SG值为0,其他结点SG值为其每个儿子结点SG值加1后的异或和.</p></li>
<li><p>无向图删边游戏</p>
<p>一个无向连通图，有一个点作为图的根。</p>
<p>游戏者轮流从图中删去边， 删去一条边后，不与根节点相连的部分将被移走。</p>
<p>谁无路可走谁输。</p>
<p>对于这个模型，有一个著名的定理——Fusion Principle:</p>
<p>我们可以对无向图做如下改动：将图中的任意一个偶环缩成一个新点，任意一个奇环缩成一个新点加一个新边；所有连到原先环上的边全部改为与新点相连。 这样的改动不会影响图的 SG 值。</p></li>
</ol>
<hr>
<p><span id="3"> </span></p>
<h1 id="习题">习题</h1>
<ul>
<li><a href="http://www.51nod.com/onlineJudge/questionCode.html#!problemId=1661" target="_blank" rel="external">【51nod1661】 黑板上的游戏</a> 解题报告： 固定题目中的<span class="math inline">\(k\)</span>, 对sg函数进行大表， 可以发现显然的规律： <span class="math inline">\(sg(1)=0, sg(ak+1)=sg(a), sg(ak+b)=a(k-1)+b-1(1&lt;b&lt;=k)\)</span>, 可以使用归纳法进行证明.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl; </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100010</span>;</div><div class="line">ll n, sg[N], a[N], k, ans; </div><div class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">got</span><span class="params">(ll x)</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> x - (x+k<span class="number">-1</span>)/k;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">calc</span><span class="params">(ll a)</span> </span>&#123; </div><div class="line">	<span class="keyword">if</span> (a % k != <span class="number">1</span>) <span class="keyword">return</span> got(a); </div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> calc(a/k); </div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">able</span><span class="params">(ll sg, ll a)</span> </span>&#123; </div><div class="line">	ll tmp = sg + (sg + k<span class="number">-2</span>) / (k<span class="number">-1</span>); </div><div class="line">	<span class="keyword">while</span> (tmp &lt; a) &#123; </div><div class="line">		<span class="keyword">if</span> ((ff)tmp * (ff)k &gt;= a)</div><div class="line">			<span class="keyword">return</span> tmp; </div><div class="line">		<span class="keyword">if</span> ((ff)tmp * (ff)k + <span class="number">1.0</span> &gt;= a)</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">		tmp = tmp * k + <span class="number">1</span>;</div><div class="line"> 	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125; </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line"><span class="comment">/*make a list to look</span></div><div class="line"></div><div class="line">int f[N], app[N], k, n; </div><div class="line">	cin &gt;&gt; n &gt;&gt; k; </div><div class="line">	f[1] = 0; </div><div class="line">	FORU(i, 2, n) &#123; </div><div class="line">		mmst(app, 0); </div><div class="line">		FORU(j, max(1, i/k), i-1) &#123;</div><div class="line">			if (j * k &lt; i) continue; </div><div class="line">			app[f[j]] = 1;</div><div class="line">		&#125;</div><div class="line">		FORU(j, 0, i) if (!app[j]) &#123;</div><div class="line">			f[i] = j; break; </div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	FORU(i, 1, n) </div><div class="line">			cout &lt;&lt; i &lt;&lt; ": " &lt;&lt; f[i] &lt;&lt;endl; </div><div class="line">*/</div><div class="line">	ios :: sync_with_stdio(<span class="literal">false</span>); </div><div class="line">	<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k; ll x; </div><div class="line">	FORU(i, <span class="number">1</span>, n) &#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; a[i], sg[i] = calc(a[i]);</div><div class="line">		ans ^= sg[i]; </div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (!ans) <span class="built_in">puts</span>(<span class="string">"Bob"</span>); </div><div class="line">	FORU(i, <span class="number">1</span>, n) &#123;</div><div class="line"> 		<span class="keyword">if</span> (x = able(sg[i] ^ ans, a[i])) &#123;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"Alice %d %lld\n"</span>, i, x); </div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="http://www.51nod.com/onlineJudge/questionCode.html#!problemId=1714" target="_blank" rel="external">【51nod1714】 B君的游戏</a> 解题报告： 根据游戏规则，游戏可以看做若干子游戏的和， 每堆石子的sg函数， 只与石子个数的二进制1数有关， 而二进制数位最多有60个1， 所以直接对二进制1数进行打表sg;</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl; </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100100</span>; </div><div class="line">ull a;</div><div class="line"><span class="keyword">int</span> ans, n; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> sg[<span class="number">70</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">16</span>,<span class="number">32</span>,<span class="number">64</span>,<span class="number">128</span>,<span class="number">255</span>,<span class="number">256</span>,<span class="number">512</span>,<span class="number">1024</span>,<span class="number">2048</span>,<span class="number">3855</span>,<span class="number">4096</span>,<span class="number">8192</span>,<span class="number">13107</span>,<span class="number">16384</span>,<span class="number">21845</span>,<span class="number">27306</span>,<span class="number">32768</span>,<span class="number">38506</span>,<span class="number">65536</span>,<span class="number">71576</span>,<span class="number">92115</span>,<span class="number">101470</span>,<span class="number">131072</span>,<span class="number">138406</span>,<span class="number">172589</span>,<span class="number">240014</span>,<span class="number">262144</span>,<span class="number">272069</span>,<span class="number">380556</span>,<span class="number">524288</span>,<span class="number">536169</span>,<span class="number">679601</span>,<span class="number">847140</span>,<span class="number">1048576</span>,<span class="number">1072054</span>,<span class="number">1258879</span>,<span class="number">1397519</span>,<span class="number">2005450</span>,<span class="number">2097152</span>,<span class="number">2121415</span>,<span class="number">2496892</span>,<span class="number">2738813</span>,<span class="number">3993667</span>,<span class="number">4194304</span>,<span class="number">4241896</span>,<span class="number">4617503</span>,<span class="number">5821704</span>,<span class="number">7559873</span>,<span class="number">8388608</span>,<span class="number">8439273</span>,<span class="number">8861366</span>,<span class="number">11119275</span>,<span class="number">11973252</span>,<span class="number">13280789</span>,<span class="number">16777216</span>,<span class="number">16844349</span>,<span class="number">17102035</span>,<span class="number">19984054</span>,<span class="number">21979742</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">	<span class="built_in">cin</span> &gt;&gt; n; <span class="keyword">int</span> tmp; </div><div class="line">	FORU(i, <span class="number">1</span>, n) &#123; </div><div class="line">		<span class="built_in">cin</span> &gt;&gt; a, tmp = <span class="number">0</span> ; </div><div class="line">		<span class="keyword">while</span> (a) tmp += a&amp;<span class="number">1</span>, a &gt;&gt;= <span class="number">1</span>; </div><div class="line">		ans ^= sg[tmp]; </div><div class="line">	&#125;</div><div class="line">	<span class="built_in">puts</span>((ans?<span class="string">"B"</span>:<span class="string">"L"</span>)); </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/challenges/nimble-game-1" target="_blank" rel="external">【hackerrank】 Nimble Game</a> 因为<span class="math inline">\(i\)</span>位置的石子只能移向<span class="math inline">\(j(j&lt;i)\)</span>的位置， 所以可以将<span class="math inline">\(i\)</span>位置的每一个石子转换成一堆有<span class="math inline">\(i\)</span>个石子的石子，直接求sg函数；</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl;</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;ll&gt; vi;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100100</span>;</div><div class="line"><span class="keyword">int</span> test, n, ans, x; </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">	ios :: sync_with_stdio(<span class="literal">false</span>); </div><div class="line">	<span class="built_in">cin</span> &gt;&gt; test; </div><div class="line">	<span class="keyword">while</span> (test--) &#123; </div><div class="line">		ans = <span class="number">0</span>, <span class="built_in">cin</span> &gt;&gt; n; </div><div class="line">		REP(i, n) &#123; </div><div class="line">			<span class="built_in">cin</span> &gt;&gt; x; </div><div class="line">			<span class="keyword">if</span> (x &amp; <span class="number">1</span>) ans ^= i; </div><div class="line">		&#125; </div><div class="line">		<span class="built_in">puts</span>((ans?<span class="string">"First"</span>:<span class="string">"Second"</span>)); 	</div><div class="line">	&#125; </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/challenges/tower-breakers-again-1" target="_blank" rel="external">【hackerrank】Tower breaks again</a> 解题报告： 对于每个<span class="math inline">\(x\)</span>，枚举<span class="math inline">\(x\)</span>的约数， 根据sg函数的定义求sg函数；</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl;</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;ll&gt; vi;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii;</div><div class="line"><span class="keyword">int</span> sg[<span class="number">100001</span>];</div><div class="line"><span class="keyword">int</span> p,xs,x,t,n;</div><div class="line"><span class="built_in">vector</span> &lt;<span class="keyword">int</span> &gt; v;</div><div class="line"><span class="keyword">void</span> _div() &#123;</div><div class="line">    sg[<span class="number">1</span>]=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=<span class="number">100000</span>;i++) &#123;</div><div class="line">        v.clear();</div><div class="line">        v.push_back(<span class="number">-1</span>);</div><div class="line">        p=<span class="built_in">sqrt</span>(i);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=p;j++)</div><div class="line">            <span class="keyword">if</span> (i%j==<span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (j%<span class="number">2</span>!=<span class="number">0</span>) v.push_back(sg[i/j]);</div><div class="line">                <span class="keyword">if</span> ((i/j)%<span class="number">2</span>!=<span class="number">0</span>) v.push_back(sg[j]);</div><div class="line">            &#125;</div><div class="line">      v.push_back(<span class="number">10000000</span>);</div><div class="line">      sort(v.begin(),v.end());</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;v.size();j++)</div><div class="line">      	<span class="keyword">if</span> (<span class="built_in">abs</span>(v[j]-v[j<span class="number">-1</span>])&gt;<span class="number">1</span>)	</div><div class="line">          sg[i]=v[j<span class="number">-1</span>]+<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125; </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</div><div class="line">    _div();</div><div class="line">    <span class="keyword">while</span> (t--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">        xs=<span class="number">0</span>;</div><div class="line">        REP(i, n)  &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;x);</div><div class="line">            xs=xs^sg[x];</div><div class="line">    	&#125;</div><div class="line">        <span class="keyword">if</span> (xs==<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"2\n"</span>); </div><div class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"1\n"</span>);   </div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/challenges/chessboard-game-again-1" target="_blank" rel="external">【hackerrank】Chessboard Game, Again!</a> 解题报告： 利用dp，求出棋盘上每个点的sg函数，利用游戏的和，得到总局面的sg函数；</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl;</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;ll&gt; vi;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii;</div><div class="line"><span class="keyword">int</span> sg[<span class="number">15</span>][<span class="number">15</span>];</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(pii a, pii b)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (a.fi + a.se != b.fi + b.se)</div><div class="line">        <span class="keyword">return</span> a.fi + a.se &lt; b.fi + b.se;</div><div class="line">    <span class="keyword">else</span></div><div class="line">        <span class="keyword">return</span> (a.fi &lt; b.se);</div><div class="line">&#125;</div><div class="line"><span class="built_in">vector</span>&lt;pii&gt; vec;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    ios :: sync_with_stdio(<span class="literal">false</span>);</div><div class="line">    REP(i, <span class="number">15</span>) REP(j, <span class="number">15</span>)</div><div class="line">        vec.pb(mp(i, j));</div><div class="line">    sort(vec.begin(), vec.end(), cmp);</div><div class="line">    <span class="keyword">for</span> (<span class="built_in">vector</span>&lt;pii&gt;::iterator it = vec.begin(); it != vec.end(); it++) &#123;</div><div class="line">        <span class="keyword">int</span> i = it-&gt;first;</div><div class="line">        <span class="keyword">int</span> j = it-&gt;second;</div><div class="line">        sg[i][j] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>;; x++) &#123;</div><div class="line">            <span class="keyword">bool</span> found = <span class="literal">false</span>;</div><div class="line">            <span class="keyword">if</span> (i<span class="number">-2</span> &gt;= <span class="number">0</span> &amp;&amp; j<span class="number">-1</span> &gt;= <span class="number">0</span> &amp;&amp; sg[i<span class="number">-2</span>][j<span class="number">-1</span>] == x) found = <span class="literal">true</span>;</div><div class="line">            <span class="keyword">if</span> (i<span class="number">-2</span> &gt;= <span class="number">0</span> &amp;&amp; j+<span class="number">1</span> &lt; <span class="number">15</span> &amp;&amp; sg[i<span class="number">-2</span>][j+<span class="number">1</span>] == x) found = <span class="literal">true</span>;</div><div class="line">            <span class="keyword">if</span> (i<span class="number">-1</span> &gt;= <span class="number">0</span> &amp;&amp; j<span class="number">-2</span> &gt;= <span class="number">0</span> &amp;&amp; sg[i<span class="number">-1</span>][j<span class="number">-2</span>] == x) found = <span class="literal">true</span>;</div><div class="line">            <span class="keyword">if</span> (i+<span class="number">1</span> &lt; <span class="number">15</span> &amp;&amp; j<span class="number">-2</span> &gt;= <span class="number">0</span> &amp;&amp; sg[i+<span class="number">1</span>][j<span class="number">-2</span>] == x) found = <span class="literal">true</span>;</div><div class="line">            <span class="keyword">if</span> (!found) &#123;</div><div class="line">                sg[i][j] = x; <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> test, x, y, k;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; test;</div><div class="line">    <span class="keyword">while</span> (test--) &#123;</div><div class="line">        <span class="built_in">cin</span> &gt;&gt; k;</div><div class="line">        <span class="keyword">int</span> total_sg = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (k--) &#123;</div><div class="line">            <span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</div><div class="line">            total_sg ^= sg[x<span class="number">-1</span>][y<span class="number">-1</span>];</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">puts</span>((total_sg == <span class="number">0</span> ? <span class="string">"Second"</span> : <span class="string">"First"</span>)); </div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/challenges/digits-square-board-1" target="_blank" rel="external">【hackerrank】Digits Square Board</a> 解题报告： 与上一题相似， 利用dp求出局面的sg函数；</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl; </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N =<span class="number">31</span>;</div><div class="line"><span class="keyword">int</span> a[N][N], gr[N][N][N][N], n, t;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">prime_check</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z,  <span class="keyword">int</span> m)</span> </span>&#123;</div><div class="line">	FORU(i, x, z) FORU(j, y, m)</div><div class="line">	    <span class="keyword">if</span> (a[i][j]==<span class="number">1</span> || a[i][j]==<span class="number">4</span> || a[i][j]==<span class="number">6</span> || a[i][j]==<span class="number">8</span> || a[i][j]==<span class="number">9</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">grundy</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z,<span class="keyword">int</span> m)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> v[<span class="number">75</span>];</div><div class="line">	<span class="keyword">if</span> (gr[x][y][z][m]!=<span class="number">-1</span>) </div><div class="line">		<span class="keyword">return</span> gr[x][y][z][m];</div><div class="line">	<span class="keyword">if</span> (prime_check(x ,y ,z ,m)) &#123;</div><div class="line">		gr[x][y][z][m]=<span class="number">0</span>;</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">75</span>;i++) v[i]=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=x+<span class="number">1</span>;i&lt;=z;i++) v[grundy(x,y,i<span class="number">-1</span>,m)^grundy(i,y,z,m)]=<span class="number">1</span>;</div><div class="line">  	<span class="keyword">for</span> (<span class="keyword">int</span> i=y+<span class="number">1</span>;i&lt;=m;i++) v[grundy(x,y,z,i<span class="number">-1</span>)^grundy(x,i,z,m)]=<span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">75</span>;i++)</div><div class="line">		<span class="keyword">if</span> (v[i]==<span class="number">0</span>) &#123;</div><div class="line">			gr[x][y][z][m]=i;</div><div class="line">			<span class="keyword">return</span> gr[x][y][z][m];</div><div class="line">		&#125;</div><div class="line">     <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">	FORU(i, <span class="number">1</span>, n) FORU(j, <span class="number">1</span>, n) </div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i][j]);</div><div class="line">	mmst(gr, <span class="number">-1</span>); </div><div class="line">    grundy(<span class="number">1</span>,<span class="number">1</span>,n,n);</div><div class="line">	<span class="keyword">if</span> (gr[<span class="number">1</span>][<span class="number">1</span>][n][n]!=<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"First\n"</span>); </div><div class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"Second\n"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</div><div class="line">    <span class="keyword">while</span>(t--) solve();</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/challenges/stone-division" target="_blank" rel="external">【hackerrank】Stone Division</a> 解题报告： 同样， 记忆化搜索求sg函数， 每个数的约数个数是<span class="math inline">\(O( \sqrt[3]{n})\)</span>级别的，所以直接暴力枚举每个数被哪些集合中的数分解；</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl; </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;ll&gt; vi; </div><div class="line">vi s; </div><div class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">bool</span>&gt; rec; </div><div class="line">ll n, m; </div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(ll x)</span> </span>&#123; </div><div class="line">	<span class="keyword">if</span> (rec.find(x) != rec.end()) 	</div><div class="line">		<span class="keyword">return</span> rec[x]; </div><div class="line">	REP(i, sz(s)) </div><div class="line">		<span class="keyword">if</span> (x % s[i] == <span class="number">0</span>) </div><div class="line">			<span class="keyword">if</span> (x / s[i] % <span class="number">2</span> == <span class="number">0</span>)</div><div class="line">				<span class="keyword">return</span> (rec[x] = <span class="number">1</span>); </div><div class="line">			<span class="keyword">else</span></div><div class="line">				<span class="keyword">if</span> (!dfs(x / s[i])) </div><div class="line">					<span class="keyword">return</span> (rec[x] = <span class="number">1</span>); </div><div class="line">	<span class="keyword">return</span> (rec[x] = <span class="number">0</span>); </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">	ios :: sync_with_stdio(<span class="literal">false</span>); </div><div class="line">	<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m; ll x; </div><div class="line">	REP(i, m) <span class="built_in">cin</span> &gt;&gt; x, s.pb(x); </div><div class="line">	<span class="keyword">if</span> (dfs(n)) <span class="built_in">puts</span>(<span class="string">"First"</span>); </div><div class="line">	<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"Second"</span>); </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/challenges/simple-game" target="_blank" rel="external">【hackerrank】Simple Game</a> 解题报告： 如果<span class="math inline">\(k=2, sg[x] = (x-1)&amp;1\)</span>, 如果<span class="math inline">\(k &gt; 3, sg[x] = x - 4\)</span>，如果<span class="math inline">\(k = 3\)</span>, 利用dp, 统计sg值为<span class="math inline">\(x\)</span>的方案数， 最后输出sg值不为0的方案数；</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl; </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">602</span>, K = <span class="number">1024</span>, p = <span class="number">1E9</span> + <span class="number">7</span>;</div><div class="line"><span class="keyword">int</span> dp[N][K], nwdp[N][K], m, n, k, sg[N];</div><div class="line"><span class="keyword">bool</span> can[K];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; m &gt;&gt; n &gt;&gt; k;</div><div class="line">    <span class="keyword">if</span> (k == <span class="number">2</span>) &#123;</div><div class="line">		FORU(i, <span class="number">1</span>, <span class="number">600</span>)</div><div class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">1</span>) sg[i] = <span class="number">0</span>;</div><div class="line">            <span class="keyword">else</span> sg[i] = <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (k == <span class="number">3</span>) &#123;</div><div class="line">        sg[<span class="number">1</span>] = <span class="number">0</span>;</div><div class="line">		FORU(i, <span class="number">1</span>, <span class="number">600</span>) &#123;</div><div class="line">            <span class="built_in">memset</span>(can, <span class="number">0</span>, <span class="keyword">sizeof</span>(can) );</div><div class="line">			FORU(j, <span class="number">1</span>, i<span class="number">-1</span>) &#123;</div><div class="line">                <span class="keyword">int</span> cur = sg[j] ^ sg[i - j];</div><div class="line">                can[cur] = <span class="literal">true</span>;</div><div class="line">            &#125;</div><div class="line">			FORU(j, <span class="number">1</span>, i - <span class="number">2</span>) &#123;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> l = <span class="number">1</span>; j + l &lt; i; l++) &#123;</div><div class="line">                    <span class="keyword">int</span> cur = sg[j] ^ sg[l] ^ sg[i - j - l];</div><div class="line">                    can[cur] = <span class="literal">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            REP(j, K)</div><div class="line">                <span class="keyword">if</span> (can[j] == <span class="literal">false</span>) &#123;</div><div class="line">                    sg[i] = j; <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (k &gt; <span class="number">3</span>) FORU(i, <span class="number">1</span>, <span class="number">600</span>) sg[i] = i - <span class="number">1</span>;</div><div class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    REP(i, n) &#123;</div><div class="line">        <span class="built_in">memset</span>(nwdp, <span class="number">0</span>, <span class="keyword">sizeof</span>(nwdp) );</div><div class="line">		REP(j, m) REP(gr, K) &#123;</div><div class="line">			<span class="keyword">if</span> (dp[j][gr] == <span class="number">0</span>) <span class="keyword">continue</span>;</div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> nxt = <span class="number">1</span>; nxt + j &lt;= m; nxt++) &#123;</div><div class="line">				nwdp[j + nxt][gr^sg[nxt] ] += dp[j][gr];</div><div class="line">				<span class="keyword">if</span> (nwdp[j + nxt][gr^sg[nxt] ] &gt;= p)</div><div class="line">					nwdp[j + nxt][gr^sg[nxt] ] -= p;</div><div class="line">			&#125;</div><div class="line">        &#125;</div><div class="line">        swap(dp, nwdp);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> s = <span class="number">0</span>;</div><div class="line">	FORU(i, <span class="number">1</span>, K<span class="number">-1</span>)&#123;</div><div class="line">        s += dp[m][i];</div><div class="line">        <span class="keyword">if</span> (s &gt;= p) s -= p;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; s &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/challenges/move-the-coins" target="_blank" rel="external">【hackerrank】Move the Coins</a> 解题报告： 一个树上阶梯问题， 静态的情况是奇数层的石子异或和，现在可以改变一个子树深度的奇偶，只需要维护这个子树的异或和， 在基础异或和上异或即可；</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl; </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">51000</span>; </div><div class="line"><span class="keyword">int</span> n, q, c[N], in[N], out[N], body[N], cnt, pre[N], dep[N], ans;</div><div class="line">vi nxt[N];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> fa)</span> </span>&#123; </div><div class="line">	<span class="keyword">int</span> y; </div><div class="line">	in[x] = ++cnt, body[cnt] = x;</div><div class="line">	dep[x] = dep[fa] ^ <span class="number">1</span>; 	</div><div class="line">	<span class="keyword">if</span> (dep[x]) ans ^= c[x]; </div><div class="line">	REP(i, sz(nxt[x])) &#123;</div><div class="line"> 		y = nxt[x][i]; </div><div class="line">		<span class="keyword">if</span> (y != fa) dfs(y, x); </div><div class="line">	&#125;</div><div class="line">	out[x] = cnt; </div><div class="line">&#125; 	</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">got</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123; </div><div class="line">	<span class="keyword">return</span> pre[r] ^ pre[l<span class="number">-1</span>]; </div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">	ios :: sync_with_stdio(<span class="literal">false</span>); </div><div class="line">	<span class="built_in">cin</span> &gt;&gt; n; <span class="keyword">int</span> x, y; </div><div class="line">	FORU(i, <span class="number">1</span>, n) <span class="built_in">cin</span> &gt;&gt; c[i]; </div><div class="line">	FORU(i, <span class="number">1</span>, n - <span class="number">1</span>) &#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</div><div class="line">		nxt[x].pb(y), nxt[y].pb(x); </div><div class="line">	&#125;</div><div class="line"> 	dep[<span class="number">0</span>] = <span class="number">1</span>, dfs(<span class="number">1</span>, <span class="number">0</span>); </div><div class="line">	FORU(i, <span class="number">1</span>, n) pre[i] = pre[i<span class="number">-1</span>] ^ c[body[i]]; </div><div class="line">	<span class="built_in">cin</span> &gt;&gt; q; </div><div class="line">	<span class="keyword">while</span> (q --) &#123; </div><div class="line">		<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y; </div><div class="line">		<span class="keyword">if</span> (in[y] &gt;= in[x] &amp;&amp; in[y] &lt;= out[x]) </div><div class="line">			<span class="built_in">puts</span>(<span class="string">"INVALID"</span>); </div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (dep[y]^dep[x])</div><div class="line">				<span class="built_in">puts</span>((ans?<span class="string">"YES"</span>:<span class="string">"NO"</span>)); </div><div class="line">			<span class="keyword">else</span> </div><div class="line">				<span class="built_in">puts</span>((ans^got(in[x], out[x]))?<span class="string">"YES"</span>:<span class="string">"NO"</span>); </div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/challenges/stone-piles" target="_blank" rel="external">【hackerrank】Stone Piles</a> 解题报告： 暴力打表sg;</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl; </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii; </div><div class="line"><span class="keyword">int</span> f[<span class="number">60</span>] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>&#125;;</div><div class="line"><span class="keyword">int</span> test, n, ans; </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"> 	ios :: sync_with_stdio(<span class="literal">false</span>); </div><div class="line">	<span class="built_in">cin</span> &gt;&gt; test; </div><div class="line">	<span class="keyword">while</span> (test--) &#123; </div><div class="line">		<span class="built_in">cin</span> &gt;&gt; n, ans = <span class="number">0</span>; </div><div class="line">		<span class="keyword">int</span> x; </div><div class="line">		FORU(i, <span class="number">1</span>, n) <span class="built_in">cin</span> &gt;&gt; x, ans = ans ^ f[x]; </div><div class="line">		<span class="built_in">puts</span>(ans?<span class="string">"ALICE"</span>:<span class="string">"BOB"</span>); </div><div class="line">	&#125; </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div><div class="line">		</div><div class="line"><span class="comment">/*</span></div><div class="line">bitset&lt;1000000000&gt; ap;</div><div class="line">void dfs(int lef, int s, int ha, int d) &#123; </div><div class="line">	if (!lef &amp;&amp; d &gt; 1) ap.set(ha); </div><div class="line">	FORU(i, s, lef) dfs(lef - i, i + 1, ha ^ f[i], d + 1); </div><div class="line">&#125; </div><div class="line">int main() &#123;</div><div class="line">	freopen("A.out", "w", stdout); </div><div class="line">	cout &lt;&lt; "&#123;0"; </div><div class="line">	f[1] = 0; </div><div class="line">	FORU(i, 2, 50) &#123; </div><div class="line">		ap.reset();</div><div class="line">		dfs(i, 1, 0, 0);</div><div class="line">		REP(j, 1000000000) if (ap[j] == 0) &#123; </div><div class="line">			f[i] = j; break;</div><div class="line">		&#125;</div><div class="line">		cout &lt;&lt; ", " &lt;&lt; f[i]; </div><div class="line">	&#125; </div><div class="line">	cout &lt;&lt; "&#125;;" &lt;&lt; endl; </div><div class="line">	return 0; </div><div class="line">&#125; </div><div class="line">*/</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/challenges/chocolate-game" target="_blank" rel="external">【hackerrank】Chocolate Game</a> 解题报告： 差分石子数可以转换为阶梯石子问题， 再利用差分统计， 得到答案；</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl; </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100010</span>;</div><div class="line"><span class="keyword">int</span> n, a[N]; </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">	ios :: sync_with_stdio(<span class="literal">false</span>); </div><div class="line">	<span class="built_in">cin</span> &gt;&gt; n;  FORU(i, <span class="number">1</span>, n) <span class="built_in">cin</span> &gt;&gt; a[i]; </div><div class="line">	ll ans = <span class="number">0</span>, tot = <span class="number">0</span>, mark = <span class="number">0</span>; </div><div class="line">	<span class="keyword">static</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; hav;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">1</span>; x &lt;= n; x += <span class="number">2</span>) &#123; </div><div class="line">		<span class="keyword">if</span> (x &gt; <span class="number">1</span>) &#123;</div><div class="line">			ans += tot - hav[(a[x] - a[x<span class="number">-1</span>])^mark]; </div><div class="line">			<span class="keyword">if</span> (a[x] - a[x<span class="number">-1</span>]) ++ ans;</div><div class="line"><span class="comment">//			DEBUG(x); DEBUG(ans);</span></div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (x == <span class="number">1</span>)  mark^=a[x], hav[a[x]^mark] += <span class="number">1</span>, tot += <span class="number">1</span>; </div><div class="line">		<span class="keyword">if</span> (x &gt; <span class="number">1</span>)  &#123;</div><div class="line">			mark ^= a[x] - a[x<span class="number">-1</span>];</div><div class="line">			hav[a[x]^mark] += <span class="number">1</span>, tot += <span class="number">1</span>;</div><div class="line">			hav[(a[x] - a[x<span class="number">-1</span>])^mark] += <span class="number">1</span>, tot += <span class="number">1</span>; </div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	mark = tot = <span class="number">0</span>;</div><div class="line">	hav.clear(); </div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">2</span>; x &lt;= n; x += <span class="number">2</span>) &#123; </div><div class="line">		ans += tot - hav[(a[x] - a[x<span class="number">-1</span>])^mark]; </div><div class="line">		<span class="keyword">if</span> (a[x] - a[x - <span class="number">1</span>]) ++ ans; 	</div><div class="line"><span class="comment">//		DEBUG(x); DEBUG(ans);</span></div><div class="line">		mark ^= a[x] - a[x<span class="number">-1</span>]; </div><div class="line">		hav[a[x] ^ mark] += <span class="number">1</span>, tot += <span class="number">1</span>; </div><div class="line">		hav[(a[x] - a[x<span class="number">-1</span>]) ^ mark] += <span class="number">1</span>, tot += <span class="number">1</span>; </div><div class="line">	&#125; </div><div class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>; </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.hackerrank.com/contests/world-codesprint-8/challenges/sherlock-and-nim" target="_blank" rel="external">【hackerrank】Return of the Nim</a> 解题报告： 如果<span class="math inline">\(n=2\)</span>, 问题就是经典的威佐夫问题；否则， <span class="math inline">\(n\)</span>一定为奇数， 如果当前局面当做经典nim游戏求sg为必败态， 那么即使使用全局减法，所得后继状态一定为必胜态，即当前局面仍为必败态；</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORU(i, a, b) for (int i = a, nn = int(b); i &lt;= nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FORD(i, a, b) for (int i = a, nn = int(b); i &gt;= nn; --i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, b) for (int i = 0, nn = int(b); i &lt; nn; ++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (int)(x).size()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mmst(a, x) memset(a, x, sizeof(a))</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG(x) cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span> &lt;&lt; (x) &lt;&lt; endl; </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LOOK(x, a, b) &#123;cout &lt;&lt; #x &lt;&lt; <span class="meta-string">" : "</span>;FORU(i, a, b) cout &lt;&lt; x[i] &lt;&lt; <span class="meta-string">' '</span>; cout &lt;&lt; endl; &#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii; </div><div class="line">ll a = <span class="number">618033988</span>, b = <span class="number">749894848</span>, c = <span class="number">204586834</span>;</div><div class="line">ll p = <span class="number">1000000000</span>, n, m, x, nInt, nDec, test; </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	ios :: sync_with_stdio(<span class="literal">false</span>); </div><div class="line">	<span class="built_in">cin</span> &gt;&gt; test; </div><div class="line">	<span class="keyword">int</span> tInt, tDec, N, ans;</div><div class="line">	<span class="keyword">while</span> (test--) &#123; </div><div class="line">      <span class="built_in">cin</span> &gt;&gt; N; </div><div class="line">      <span class="keyword">if</span> (N == <span class="number">2</span>)&#123;</div><div class="line">            <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</div><div class="line">            <span class="keyword">if</span> (n &lt; m) swap(n, m); </div><div class="line">            n -= m; </div><div class="line">            <span class="keyword">if</span> (n &gt; m || (n &lt;&lt; <span class="number">1</span>) &lt; m) <span class="built_in">puts</span>(<span class="string">"Sherlock"</span>); </div><div class="line">            <span class="keyword">else</span> &#123; </div><div class="line">                nInt = n / p, nDec = n % p;</div><div class="line">                x = nDec * c; </div><div class="line">                x = b * nDec + c * nInt + x / p; </div><div class="line">                x = a * nDec + b * nInt + x / p; </div><div class="line">                x = n + a * nInt + x / p; </div><div class="line">                <span class="keyword">if</span> (x == m) <span class="built_in">puts</span>(<span class="string">"Watson"</span>); </div><div class="line">                <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"Sherlock"</span>); </div><div class="line">		      &#125;</div><div class="line">      &#125; <span class="keyword">else</span> &#123; </div><div class="line">            ans = <span class="number">0</span>; </div><div class="line">            FORU(i, <span class="number">1</span>, N) <span class="built_in">cin</span> &gt;&gt; x, ans ^= x; </div><div class="line">            <span class="built_in">puts</span>((ans?<span class="string">"Sherlock"</span>:<span class="string">"Watson"</span>));</div><div class="line">      &#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/【Bzoj 4423】[AMPPZ2013]Bytehattan/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>上一页</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/【bzoj3155】Preprefix-sum/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>

    <!-- share -->
    
        

        
    <!-- JiaThis Button BEGIN -->
<script type="text/javascript">
var jiathis_config = {data_track_clickback:'true'};
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jiathis_r.js?type=left&amp;btn=l2.gif&amp;uid=2131170" charset="utf-8"></script>
<!-- JiaThis Button END -->
<!-- UJian Button BEGIN -->
	<script type="text/javascript" src="http://v1.ujian.cc/code/ujian.js?type=slide"></script>
<!-- UJian Button END -->
    <br>


    
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">留言</h2>

  
  	 <div id="uyan_frame"></div>
  
</section>

	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2017-02-14 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/学习笔记/">学习笔记<span>1</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/博弈/">博弈<span>2</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
			<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#基础知识"><span class="toc-article-text">基础知识</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#平等博弈"><span class="toc-article-text">平等博弈</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#sg函数"><span class="toc-article-text">sg函数</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#游戏的和"><span class="toc-article-text">游戏的和</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#经典模型"><span class="toc-article-text">经典模型</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#石子类"><span class="toc-article-text">石子类</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#非石子类"><span class="toc-article-text">非石子类</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#习题"><span class="toc-article-text">习题</span></a></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->
 
  <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2131170"></script>



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 shallwe
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script type="text/javascript" opacity='1' zIndex="2" count="250" src="/js/src/particle.js"></script>  
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
